"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const M=require("react"),zr=require("echarts");function Wr(a){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(a){for(const r in a)if(r!=="default"){const o=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>a[r]})}}return n.default=a,Object.freeze(n)}const Lr=Wr(zr);function Ur(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ue={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge;function Yr(){if(Ge)return Q;Ge=1;var a=M,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(f,c,_){var g,S={},O=null,$=null;_!==void 0&&(O=""+_),c.key!==void 0&&(O=""+c.key),c.ref!==void 0&&($=c.ref);for(g in c)o.call(c,g)&&!s.hasOwnProperty(g)&&(S[g]=c[g]);if(f&&f.defaultProps)for(g in c=f.defaultProps,c)S[g]===void 0&&(S[g]=c[g]);return{$$typeof:n,type:f,key:O,ref:$,props:S,_owner:i.current}}return Q.Fragment=r,Q.jsx=l,Q.jsxs=l,Q}var ee={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe;function Br(){return Xe||(Xe=1,process.env.NODE_ENV!=="production"&&function(){var a=M,n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),x=Symbol.iterator,v="@@iterator";function P(e){if(e===null||typeof e!="object")return null;var t=x&&e[x]||e[v];return typeof t=="function"?t:null}var q=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function D(e){{for(var t=arguments.length,u=new Array(t>1?t-1:0),d=1;d<t;d++)u[d-1]=arguments[d];ce("error",e,u)}}function ce(e,t,u){{var d=q.ReactDebugCurrentFrame,E=d.getStackAddendum();E!==""&&(t+="%s",u=u.concat([E]));var R=u.map(function(y){return String(y)});R.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,R)}}var h=!1,p=!1,V=!1,T=!1,b=!1,C;C=Symbol.for("react.module.reference");function J(e){return!!(typeof e=="string"||typeof e=="function"||e===o||e===s||b||e===i||e===_||e===g||T||e===$||h||p||V||typeof e=="object"&&e!==null&&(e.$$typeof===O||e.$$typeof===S||e.$$typeof===l||e.$$typeof===f||e.$$typeof===c||e.$$typeof===C||e.getModuleId!==void 0))}function vr(e,t,u){var d=e.displayName;if(d)return d;var E=t.displayName||t.name||"";return E!==""?u+"("+E+")":u}function Ce(e){return e.displayName||"Context"}function L(e){if(e==null)return null;if(typeof e.tag=="number"&&D("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case o:return"Fragment";case r:return"Portal";case s:return"Profiler";case i:return"StrictMode";case _:return"Suspense";case g:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case f:var t=e;return Ce(t)+".Consumer";case l:var u=e;return Ce(u._context)+".Provider";case c:return vr(e,e.render,"ForwardRef");case S:var d=e.displayName||null;return d!==null?d:L(e.type)||"Memo";case O:{var E=e,R=E._payload,y=E._init;try{return L(y(R))}catch{return null}}}return null}var U=Object.assign,H=0,we,Te,je,xe,De,Pe,ke;function Fe(){}Fe.__reactDisabledLog=!0;function pr(){{if(H===0){we=console.log,Te=console.info,je=console.warn,xe=console.error,De=console.group,Pe=console.groupCollapsed,ke=console.groupEnd;var e={configurable:!0,enumerable:!0,value:Fe,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}H++}}function hr(){{if(H--,H===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},e,{value:we}),info:U({},e,{value:Te}),warn:U({},e,{value:je}),error:U({},e,{value:xe}),group:U({},e,{value:De}),groupCollapsed:U({},e,{value:Pe}),groupEnd:U({},e,{value:ke})})}H<0&&D("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var le=q.ReactCurrentDispatcher,fe;function oe(e,t,u){{if(fe===void 0)try{throw Error()}catch(E){var d=E.stack.trim().match(/\n( *(at )?)/);fe=d&&d[1]||""}return`
`+fe+e}}var de=!1,ae;{var br=typeof WeakMap=="function"?WeakMap:Map;ae=new br}function Ie(e,t){if(!e||de)return"";{var u=ae.get(e);if(u!==void 0)return u}var d;de=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var R;R=le.current,le.current=null,pr();try{if(t){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(F){d=F}Reflect.construct(e,[],y)}else{try{y.call()}catch(F){d=F}e.call(y.prototype)}}else{try{throw Error()}catch(F){d=F}e()}}catch(F){if(F&&d&&typeof F.stack=="string"){for(var m=F.stack.split(`
`),k=d.stack.split(`
`),w=m.length-1,j=k.length-1;w>=1&&j>=0&&m[w]!==k[j];)j--;for(;w>=1&&j>=0;w--,j--)if(m[w]!==k[j]){if(w!==1||j!==1)do if(w--,j--,j<0||m[w]!==k[j]){var A=`
`+m[w].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),typeof e=="function"&&ae.set(e,A),A}while(w>=1&&j>=0);break}}}finally{de=!1,le.current=R,hr(),Error.prepareStackTrace=E}var G=e?e.displayName||e.name:"",Y=G?oe(G):"";return typeof e=="function"&&ae.set(e,Y),Y}function mr(e,t,u){return Ie(e,!1)}function gr(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function ie(e,t,u){if(e==null)return"";if(typeof e=="function")return Ie(e,gr(e));if(typeof e=="string")return oe(e);switch(e){case _:return oe("Suspense");case g:return oe("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case c:return mr(e.render);case S:return ie(e.type,t,u);case O:{var d=e,E=d._payload,R=d._init;try{return ie(R(E),t,u)}catch{}}}return""}var Z=Object.prototype.hasOwnProperty,Ae={},Me=q.ReactDebugCurrentFrame;function se(e){if(e){var t=e._owner,u=ie(e.type,e._source,t?t.type:null);Me.setExtraStackFrame(u)}else Me.setExtraStackFrame(null)}function yr(e,t,u,d,E){{var R=Function.call.bind(Z);for(var y in e)if(R(e,y)){var m=void 0;try{if(typeof e[y]!="function"){var k=Error((d||"React class")+": "+u+" type `"+y+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[y]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw k.name="Invariant Violation",k}m=e[y](t,y,d,u,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(w){m=w}m&&!(m instanceof Error)&&(se(E),D("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",d||"React class",u,y,typeof m),se(null)),m instanceof Error&&!(m.message in Ae)&&(Ae[m.message]=!0,se(E),D("Failed %s type: %s",u,m.message),se(null))}}}var _r=Array.isArray;function ve(e){return _r(e)}function Er(e){{var t=typeof Symbol=="function"&&Symbol.toStringTag,u=t&&e[Symbol.toStringTag]||e.constructor.name||"Object";return u}}function Sr(e){try{return $e(e),!1}catch{return!0}}function $e(e){return""+e}function Ve(e){if(Sr(e))return D("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Er(e)),$e(e)}var qe=q.ReactCurrentOwner,Rr={key:!0,ref:!0,__self:!0,__source:!0},Ne,ze;function Or(e){if(Z.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function Cr(e){if(Z.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function wr(e,t){typeof e.ref=="string"&&qe.current}function Tr(e,t){{var u=function(){Ne||(Ne=!0,D("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};u.isReactWarning=!0,Object.defineProperty(e,"key",{get:u,configurable:!0})}}function jr(e,t){{var u=function(){ze||(ze=!0,D("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};u.isReactWarning=!0,Object.defineProperty(e,"ref",{get:u,configurable:!0})}}var xr=function(e,t,u,d,E,R,y){var m={$$typeof:n,type:e,key:t,ref:u,props:y,_owner:R};return m._store={},Object.defineProperty(m._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(m,"_self",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.defineProperty(m,"_source",{configurable:!1,enumerable:!1,writable:!1,value:E}),Object.freeze&&(Object.freeze(m.props),Object.freeze(m)),m};function Dr(e,t,u,d,E){{var R,y={},m=null,k=null;u!==void 0&&(Ve(u),m=""+u),Cr(t)&&(Ve(t.key),m=""+t.key),Or(t)&&(k=t.ref,wr(t,E));for(R in t)Z.call(t,R)&&!Rr.hasOwnProperty(R)&&(y[R]=t[R]);if(e&&e.defaultProps){var w=e.defaultProps;for(R in w)y[R]===void 0&&(y[R]=w[R])}if(m||k){var j=typeof e=="function"?e.displayName||e.name||"Unknown":e;m&&Tr(y,j),k&&jr(y,j)}return xr(e,m,k,E,d,qe.current,y)}}var pe=q.ReactCurrentOwner,We=q.ReactDebugCurrentFrame;function K(e){if(e){var t=e._owner,u=ie(e.type,e._source,t?t.type:null);We.setExtraStackFrame(u)}else We.setExtraStackFrame(null)}var he;he=!1;function be(e){return typeof e=="object"&&e!==null&&e.$$typeof===n}function Le(){{if(pe.current){var e=L(pe.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}}function Pr(e){return""}var Ue={};function kr(e){{var t=Le();if(!t){var u=typeof e=="string"?e:e.displayName||e.name;u&&(t=`

Check the top-level render call using <`+u+">.")}return t}}function Ye(e,t){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var u=kr(t);if(Ue[u])return;Ue[u]=!0;var d="";e&&e._owner&&e._owner!==pe.current&&(d=" It was passed a child from "+L(e._owner.type)+"."),K(e),D('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',u,d),K(null)}}function Be(e,t){{if(typeof e!="object")return;if(ve(e))for(var u=0;u<e.length;u++){var d=e[u];be(d)&&Ye(d,t)}else if(be(e))e._store&&(e._store.validated=!0);else if(e){var E=P(e);if(typeof E=="function"&&E!==e.entries)for(var R=E.call(e),y;!(y=R.next()).done;)be(y.value)&&Ye(y.value,t)}}}function Fr(e){{var t=e.type;if(t==null||typeof t=="string")return;var u;if(typeof t=="function")u=t.propTypes;else if(typeof t=="object"&&(t.$$typeof===c||t.$$typeof===S))u=t.propTypes;else return;if(u){var d=L(t);yr(u,e.props,"prop",d,e)}else if(t.PropTypes!==void 0&&!he){he=!0;var E=L(t);D("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",E||"Unknown")}typeof t.getDefaultProps=="function"&&!t.getDefaultProps.isReactClassApproved&&D("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ir(e){{for(var t=Object.keys(e.props),u=0;u<t.length;u++){var d=t[u];if(d!=="children"&&d!=="key"){K(e),D("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",d),K(null);break}}e.ref!==null&&(K(e),D("Invalid attribute `ref` supplied to `React.Fragment`."),K(null))}}var Je={};function Ke(e,t,u,d,E,R){{var y=J(e);if(!y){var m="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(m+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var k=Pr();k?m+=k:m+=Le();var w;e===null?w="null":ve(e)?w="array":e!==void 0&&e.$$typeof===n?(w="<"+(L(e.type)||"Unknown")+" />",m=" Did you accidentally export a JSX literal instead of a component?"):w=typeof e,D("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",w,m)}var j=Dr(e,t,u,E,R);if(j==null)return j;if(y){var A=t.children;if(A!==void 0)if(d)if(ve(A)){for(var G=0;G<A.length;G++)Be(A[G],e);Object.freeze&&Object.freeze(A)}else D("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Be(A,e)}if(Z.call(t,"key")){var Y=L(e),F=Object.keys(t).filter(function(Nr){return Nr!=="key"}),me=F.length>0?"{key: someKey, "+F.join(": ..., ")+": ...}":"{key: someKey}";if(!Je[Y+me]){var qr=F.length>0?"{"+F.join(": ..., ")+": ...}":"{}";D(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,me,Y,qr,Y),Je[Y+me]=!0}}return e===o?Ir(j):Fr(j),j}}function Ar(e,t,u){return Ke(e,t,u,!0)}function Mr(e,t,u){return Ke(e,t,u,!1)}var $r=Mr,Vr=Ar;ee.Fragment=o,ee.jsx=$r,ee.jsxs=Vr}()),ee}var He;function Jr(){return He||(He=1,process.env.NODE_ENV==="production"?ue.exports=Yr():ue.exports=Br()),ue.exports}var I=Jr();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Se=function(a,n){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},Se(a,n)};function cr(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Se(a,n);function r(){this.constructor=a}a.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Re=function(){return Re=Object.assign||function(n){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},Re.apply(this,arguments)},N={},z={},ge={},Ze;function Kr(){return Ze||(Ze=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=1,r=function(){return"".concat(n++)};a.default=r}(ge)),ge}var re={},te={},ye={},Qe;function lr(){return Qe||(Qe=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,s=null;return function(){for(var l=this,f=arguments.length,c=new Array(f),_=0;_<f;_++)c[_]=arguments[_];clearTimeout(s),s=setTimeout(function(){o.apply(l,c)},i)}};a.default=n}(ye)),ye}var W={},er;function Oe(){if(er)return W;er=1,Object.defineProperty(W,"__esModule",{value:!0}),W.SizeSensorId=W.SensorTabIndex=W.SensorClassName=void 0;var a="size-sensor-id";W.SizeSensorId=a;var n="size-sensor-object";W.SensorClassName=n;var r="-1";return W.SensorTabIndex=r,W}var rr;function Gr(){if(rr)return te;rr=1,Object.defineProperty(te,"__esModule",{value:!0}),te.createSensor=void 0;var a=r(lr()),n=Oe();function r(i){return i&&i.__esModule?i:{default:i}}var o=function(s,l){var f=void 0,c=[],_=function(){getComputedStyle(s).position==="static"&&(s.style.position="relative");var v=document.createElement("object");return v.onload=function(){v.contentDocument.defaultView.addEventListener("resize",g),g()},v.style.display="block",v.style.position="absolute",v.style.top="0",v.style.left="0",v.style.height="100%",v.style.width="100%",v.style.overflow="hidden",v.style.pointerEvents="none",v.style.zIndex="-1",v.style.opacity="0",v.setAttribute("class",n.SensorClassName),v.setAttribute("tabindex",n.SensorTabIndex),v.type="text/html",s.appendChild(v),v.data="about:blank",v},g=(0,a.default)(function(){c.forEach(function(x){x(s)})}),S=function(v){f||(f=_()),c.indexOf(v)===-1&&c.push(v)},O=function(){f&&f.parentNode&&(f.contentDocument&&f.contentDocument.defaultView.removeEventListener("resize",g),f.parentNode.removeChild(f),s.removeAttribute(n.SizeSensorId),f=void 0,c=[],l&&l())},$=function(v){var P=c.indexOf(v);P!==-1&&c.splice(P,1),c.length===0&&f&&O()};return{element:s,bind:S,destroy:O,unbind:$}};return te.createSensor=o,te}var ne={},tr;function Xr(){if(tr)return ne;tr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.createSensor=void 0;var a=Oe(),n=r(lr());function r(i){return i&&i.__esModule?i:{default:i}}var o=function(s,l){var f=void 0,c=[],_=(0,n.default)(function(){c.forEach(function(x){x(s)})}),g=function(){var v=new ResizeObserver(_);return v.observe(s),_(),v},S=function(v){f||(f=g()),c.indexOf(v)===-1&&c.push(v)},O=function(){f.disconnect(),c=[],f=void 0,s.removeAttribute(a.SizeSensorId),l&&l()},$=function(v){var P=c.indexOf(v);P!==-1&&c.splice(P,1),c.length===0&&f&&O()};return{element:s,bind:S,destroy:O,unbind:$}};return ne.createSensor=o,ne}var nr;function Hr(){if(nr)return re;nr=1,Object.defineProperty(re,"__esModule",{value:!0}),re.createSensor=void 0;var a=Gr(),n=Xr(),r=typeof ResizeObserver<"u"?n.createSensor:a.createSensor;return re.createSensor=r,re}var or;function Zr(){if(or)return z;or=1,Object.defineProperty(z,"__esModule",{value:!0}),z.removeSensor=z.getSensor=z.Sensors=void 0;var a=o(Kr()),n=Hr(),r=Oe();function o(c){return c&&c.__esModule?c:{default:c}}var i={};z.Sensors=i;function s(c){c&&i[c]&&delete i[c]}var l=function(_){var g=_.getAttribute(r.SizeSensorId);if(g&&i[g])return i[g];var S=(0,a.default)();_.setAttribute(r.SizeSensorId,S);var O=(0,n.createSensor)(_,function(){return s(S)});return i[S]=O,O};z.getSensor=l;var f=function(_){var g=_.element.getAttribute(r.SizeSensorId);_.destroy(),s(g)};return z.removeSensor=f,z}var ar;function Qr(){if(ar)return N;ar=1,Object.defineProperty(N,"__esModule",{value:!0}),N.ver=N.clear=N.bind=void 0;var a=Zr(),n=function(s,l){var f=(0,a.getSensor)(s);return f.bind(l),function(){f.unbind(l)}};N.bind=n;var r=function(s){var l=(0,a.getSensor)(s);(0,a.removeSensor)(l)};N.clear=r;var o="1.0.2";return N.ver=o,N}var ir=Qr();function sr(a,n){var r={};return n.forEach(function(o){r[o]=a[o]}),r}function _e(a){return typeof a=="function"}function et(a){return typeof a=="string"}var Ee,ur;function rt(){return ur||(ur=1,Ee=function a(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var o,i,s;if(Array.isArray(n)){if(o=n.length,o!=r.length)return!1;for(i=o;i--!==0;)if(!a(n[i],r[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if(s=Object.keys(n),o=s.length,o!==Object.keys(r).length)return!1;for(i=o;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=o;i--!==0;){var l=s[i];if(!a(n[l],r[l]))return!1}return!0}return n!==n&&r!==r}),Ee}var tt=rt();const X=Ur(tt);var nt=function(a){cr(n,a);function n(r){var o=a.call(this,r)||this;return o.echarts=r.echarts,o.ele=null,o.isInitialResize=!0,o}return n.prototype.componentDidMount=function(){this.renderNewEcharts()},n.prototype.componentDidUpdate=function(r){var o=this.props.shouldSetOption;if(!(_e(o)&&!o(r,this.props))){if(!X(r.theme,this.props.theme)||!X(r.opts,this.props.opts)||!X(r.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var i=["option","notMerge","lazyUpdate","showLoading","loadingOption"];X(sr(this.props,i),sr(r,i))||this.updateEChartsOption(),(!X(r.style,this.props.style)||!X(r.className,this.props.className))&&this.resize()}},n.prototype.componentWillUnmount=function(){this.dispose()},n.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},n.prototype.dispose=function(){if(this.ele){try{ir.clear(this.ele)}catch(r){console.warn(r)}this.echarts.dispose(this.ele)}},n.prototype.renderNewEcharts=function(){var r=this,o=this.props,i=o.onEvents,s=o.onChartReady,l=this.updateEChartsOption();this.bindEvents(l,i||{}),_e(s)&&s(l),this.ele&&ir.bind(this.ele,function(){r.resize()})},n.prototype.bindEvents=function(r,o){function i(l,f){et(l)&&_e(f)&&r.on(l,function(c){f(c,r)})}for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i(s,o[s])},n.prototype.updateEChartsOption=function(){var r=this.props,o=r.option,i=r.notMerge,s=i===void 0?!1:i,l=r.lazyUpdate,f=l===void 0?!1:l,c=r.showLoading,_=r.loadingOption,g=_===void 0?null:_,S=this.getEchartsInstance();return S.setOption(o,s,f),c?S.showLoading(g):S.hideLoading(),S},n.prototype.resize=function(){var r=this.getEchartsInstance();if(!this.isInitialResize)try{r.resize()}catch(o){console.warn(o)}this.isInitialResize=!1},n.prototype.render=function(){var r=this,o=this.props,i=o.style,s=o.className,l=s===void 0?"":s,f=Re({height:300},i);return M.createElement("div",{ref:function(c){r.ele=c},style:f,className:"echarts-for-react "+l})},n}(M.PureComponent),ot=function(a){cr(n,a);function n(r){var o=a.call(this,r)||this;return o.echarts=Lr,o}return n}(nt);const fr={Transports:"#c6dbef",Résidentiel:"#fdb462",Tertiaire:"#ffed6f",Industrie:"#fb8072",Agriculture:"#b3de69",Déchets:"#bebada",UTCATF:"#d9d9d9",Cultures:"#F7DC6F"},at=["#FF6B35","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#E17055","#74B9FF"];function dr(a,n){const r={sectors:[]};console.log("epciData:",a),console.log("leverPercentages:",n);for(const o of a.sectors){const i=n.sectors.find(f=>f.sector_snbc===o.name);if(!i){console.warn(`Sector "${o.name}" not found in CSV data`);continue}const s=[];let l=0;switch(o.calculation_method){case"difference_repartition":l=it(o,i,a.region,s);break;case"transposition_directe":l=st(o,i,a.region,s);break;case"sum_transposition":l=ut(o,i,a,s);break;case"national_repartition":l=ct(o,i,s);break;default:console.error(`Unknown calculation method: ${o.calculation_method}`)}console.log("levers:",s),s.length>0&&r.sectors.push({name:o.name,total:l,levers:s})}return r}function it(a,n,r,o){const i=a.value2019-a.target2030;let s=0;for(const l of n.levers){const f=l.regional_percentages[r];if(f===void 0){console.warn(`Region "${r}" not found for lever "${l.name}"`);continue}const c=i*(f/100);o.push({name:l.name,contribution:c,color:l.color||void 0}),s+=c}return s}function st(a,n,r,o){let i=0;for(const s of n.levers){const l=s.regional_percentages[r];if(l===void 0){console.warn(`Region "${r}" not found for lever "${s.name}"`);continue}const f=a.target2030*(l/100);o.push({name:s.name,contribution:f,color:s.color||void 0}),i+=f}return i}function ut(a,n,r,o){if(!a.source_sectors)return console.error(`Missing source_sectors for sector "${a.name}"`),0;let i=0;for(const l of a.source_sectors){const f=r.sectors.find(c=>c.name===l);f&&(i+=f.target2030)}let s=0;for(const l of n.levers){const f=l.regional_percentages[r.region];if(f===void 0){console.warn(`Region "${r.region}" not found for lever "${l.name}"`);continue}const c=i*(f/100);o.push({name:l.name,contribution:c,color:l.color||void 0}),s+=c}return s}function ct(a,n,r){const o=a.value2019-a.target2030;let i=0;for(const s of n.levers){const l=Object.values(s.regional_percentages)[0];if(l===void 0){console.warn(`No percentage found for lever "${s.name}"`);continue}const f=o*(l/100);r.push({name:s.name,contribution:f,color:s.color||void 0}),i+=f}return i}const B="#74B9FF",lt=({epciData:a,leverPercentages:n,selectedSector:r,selectedLever:o,onLeverSelected:i,onSectorSelected:s,resetZoom:l,className:f="",style:c={}})=>{const[_,g]=M.useState([]),[S,O]=M.useState("overview"),[$,x]=M.useState(null),v=fr,P=M.useMemo(()=>{try{return x(null),dr(a,n)}catch(h){return x(h?.message??"Unknown error"),console.error("Error processing Mondrian data:",h),{sectors:[]}}},[a,n]),q=M.useCallback(()=>S==="sector"&&_.length>0?_:P.sectors.map(h=>({name:h.name,value:Math.abs(h.total),realValue:h.total,itemStyle:{color:v[h.name]||B},children:h.levers.map(p=>({name:p.name,value:Math.abs(p.contribution),realValue:p.contribution,sector:h.name,lever:p.name,contribution:p.contribution,color:p.color||v[h.name]||B,itemStyle:{color:p.color||v[h.name]||B}}))})),[P,S,_,v]);M.useEffect(()=>{if(!r){O("overview"),g([]);return}const h=P.sectors.find(p=>p.name===r);h&&(o?(g([{name:r,value:Math.abs(h.total),realValue:h.total,children:h.levers.map(p=>({name:p.name,value:Math.abs(p.contribution),realValue:p.contribution,sector:r,lever:p.name,contribution:p.contribution,color:p.color||v[r]||B,selected:p.name===o}))}]),O("sector")):(g([{name:r,value:Math.abs(h.total),realValue:h.total,children:h.levers.map(p=>({name:p.name,value:Math.abs(p.contribution),realValue:p.contribution,sector:r,lever:p.name,contribution:p.contribution,color:p.color||v[r]||B}))}]),O("sector")))},[r,o,P,v]);const D=M.useCallback(h=>{if(h?.data?.sector&&h?.data?.lever){const p=h.data.sector,V=h.data.lever,T=h.data.contribution,b=P.sectors.find(C=>C.name===p);if(!b)return;g([{name:p,value:Math.abs(b.total),realValue:b.total,children:b.levers.map(C=>({name:C.name,value:Math.abs(C.contribution),realValue:C.contribution,sector:p,lever:C.name,contribution:C.contribution,color:C.color||v[p]||B,selected:C.name===V}))}]),O("sector"),i?.(p,V,T)}else if(h?.data?.name&&!h?.data?.sector){const p=h.data.name,V=P.sectors.find(T=>T.name===p);g([{name:p,value:Math.abs(V?.total??0),realValue:V?.total??0,children:V?.levers.map(T=>({name:T.name,value:Math.abs(T.contribution),realValue:T.contribution,sector:p,lever:T.name,contribution:T.contribution,color:T.color||v[p]||B}))??[]}]),O("sector"),s?.(p)}},[P,i,s,v]),ce=M.useCallback(()=>{const h=q();function p(T){return T.map(b=>b.children?{...b,children:p(b.children)}:b.selected?{...b,itemStyle:{...b.itemStyle,borderColor:"#90caf9",borderWidth:1,shadowColor:"#90caf9",shadowBlur:12},opacity:1}:{...b,opacity:.5})}let V=h;return h.length===1&&h[0].children&&h[0].children.some(T=>T.selected)&&(V=[{...h[0],children:p(h[0].children)}]),{tooltip:{formatter:function(T){const b=T.data;let C="";if(b.sector&&b.lever){C+=`<strong>${b.sector}</strong><br/>`,C+=`<strong>${b.lever}</strong><br/>`;const J=b.realValue!==void 0?b.realValue:b.contribution;J!==void 0&&b.realValue!==0&&(C+=`Target: ${J.toFixed(1)} ktCO₂e`)}else C+=`<strong>${b.name}</strong><br/>`,b.realValue!==void 0&&(C+=`Total: ${b.realValue.toFixed(1)} ktCO₂e`);return C},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#ccc",borderWidth:1,textStyle:{color:"#333"}},series:[{type:"treemap",data:V,roam:!1,nodeClick:"drillDown",label:{show:!0,formatter:function(T){const b=T.data;if(b.sector&&b.lever){const J=b.realValue!==void 0?b.realValue:b.contribution;return`${b.lever}

${J.toFixed(1)} ktCO₂e`}const C=b.realValue!==void 0?b.realValue:b.value;return`${b.name}

${C.toFixed(1)} ktCO₂e`},fontSize:12,color:"#111"},breadcrumb:{show:!1},itemStyle:{borderColor:"#fff",borderWidth:2},levels:[{itemStyle:{borderColor:"#fff",borderWidth:2,gapWidth:2}},{itemStyle:{borderColor:"#fff",borderWidth:1,gapWidth:1}}]}]}},[q]);return $?I.jsxs("div",{className:"mondrian-error",children:[I.jsx("h4",{children:"Data processing error"}),I.jsx("p",{children:$}),I.jsx("p",{className:"mondrian-error-hint",children:"Please verify the mapping between EPCI sectors and lever percentages."})]}):I.jsxs("div",{className:`mondrian-treemap mondrian-treemap-container ${f}`,style:c,children:[(S==="sector"||r)&&I.jsxs("div",{className:"mondrian-breadcrumb",children:[I.jsx("span",{className:"mondrian-breadcrumb-item clickable",onClick:()=>{O("overview"),g([]),l?.()},children:"Overview"}),I.jsx("span",{className:"mondrian-breadcrumb-separator",children:"›"}),I.jsx("span",{className:"mondrian-breadcrumb-item",children:r}),o&&I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"mondrian-breadcrumb-separator",children:"›"}),I.jsx("span",{className:"mondrian-breadcrumb-item",children:o})]})]}),I.jsx(ot,{option:ce(),className:`mondrian-treemap-chart ${S!=="overview"?"with-breadcrumb":""}`,style:{height:"100%",width:"100%"},onEvents:{click:D}})]})};exports.LEVER_COLORS=at;exports.MondrianTreemap=lt;exports.SECTOR_COLORS=fr;exports.calculateSNBCData=dr;
